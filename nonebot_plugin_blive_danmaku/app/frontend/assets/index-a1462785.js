import{u as e,g as a,a as t,b as s,c as o,d as l,_ as r}from"./index-3db67a99.js";import{E as i,r as n,a as u,v as d,s as c,t as m,c as f,u as p,i as _,n as v,l as g}from"./elementPlus-34be6093.js";import{F as y,t as h,aQ as x,p as b,f as E,g as j,U as k,Z as w,u as T,a6 as U,_ as I,o as P,a1 as R,aR as q}from"./vendor-4de459fa.js";import"./lodash-520df23f.js";const z={class:"danmaku-room-list",style:{"padding-top":"0%",width:"60%",margin:"0 auto"}},A={class:"danmaku-page-header"},B={class:"text-large font-600 mr-3"},D={class:"image-slot"},F={style:{"text-align":"left"}},L={style:{color:"#000","font-weight":"bold","font-size":"20px"}},O={style:{"text-align":"left"}},Q={style:{"text-align":"left"}},S=y({__name:"index",setup(y){const S=h({}),V=h(!0),Z=q({loader:()=>r((()=>import("./danmaku-59e60e2e.js")),["assets/danmaku-59e60e2e.js","assets/elementPlus-34be6093.js","assets/vendor-4de459fa.js","assets/lodash-520df23f.js","assets/elementPlus-7297eb15.css","assets/index-3db67a99.js","assets/index-6464e386.css","assets/_plugin-vue_export-helper-1b428a4d.js","assets/danmaku-990fce01.css"])}),C=e(),G=x(),H=()=>{const e=C.getType,a=C.getTypeId,t=C.getUid;G.replace({name:"history",query:{type:e,type_id:a,uid:t}})};return b((()=>{window.scrollTo({top:0,behavior:"smooth"});const e=a("type"),l=a("type_id");null!=e&&null!=l&&C.setState(l,e),(()=>{const e=a("roomid");if(null==e)return i({title:"Error",message:"房间号不存在，请返回上一页重新进入",type:"error"}),V.value=!1,!1;V.value=!0,t({id:e}).then((async e=>{if(0!=e.code)i({title:"Error",message:"系统异常",type:"error"});else{const t=e.data;if(document.title=t.room_info.title,t.room_info.cover.includes("i0.hdslb.com")){const e=await s({url:t.room_info.cover});t.room_info.cover=e.data.data}else t.room_info.cover.includes(o)&&(t.room_info.cover=t.room_info.cover.replace(o,""));if(S.value=t.room_info,0===C.getUid){const e=a("uid");C.setUid(e)}}V.value=!1})).catch((e=>{V.value=!1,i({title:"Error",message:"请求异常",type:"error"})}))})()})),(e,a)=>{const t=n,s=f,r=p,i=_,y=v,h=g,x=u,b=d;return P(),E("div",z,[j("div",A,[k(t,{icon:T(c),onBack:H},{content:w((()=>[j("span",B,R(S.value.name),1)])),_:1},8,["icon"])]),U((P(),I(x,null,{default:w((()=>[k(i,null,{default:w((()=>[k(r,{src:T(o)+S.value.cover,fit:"fill"},{error:w((()=>[j("div",D,[k(s,null,{default:w((()=>[k(T(m))])),_:1})])])),_:1},8,["src"])])),_:1}),k(h,null,{default:w((()=>[j("ul",F,[k(y,{type:"primary",target:"_blank",href:"https://space.bilibili.com/"+S.value.uid},{default:w((()=>[j("div",L,R(S.value.title),1)])),_:1},8,["href"])]),j("ul",O,[j("span",null," 开始时间："+R(T(l)(S.value.start_time)),1)]),j("ul",Q,[j("span",null," 结束时间："+R(T(l)(S.value.end_time)),1)])])),_:1})])),_:1})),[[b,V.value]]),k(T(Z))])}}});export{S as default};
