import{_ as e,g as a,f as s,F as t,R as l}from"./index-8cc691e9.js";import{L as n,M as r,a as i,A as u,x as o,c as m,N as d,G as c,D as p}from"./elementPlus-4153dd68.js";import{E as f,aL as _,r as g,s as y,b as k,ax as v,h,j as x,k as L,P as M,S as T,u as j,Q as w,ad as b,V as C,W as E,a0 as N,T as V}from"./vendor-77f251a3.js";import"./lodash-520df23f.js";const H={class:"demo-input-suffix"},S=L("span",{class:"ml-3 text-gray-600 inline-flex items-center"},"路灯：",-1),P={key:0,class:"ml-2"},R=["innerHTML"],A={key:1,class:"ml-2"},D=["innerHTML"],F=f({__name:"index",setup(f){const F=_({loader:()=>e((()=>import("./sc-90769733.js")),["assets/sc-90769733.js","assets/elementPlus-4153dd68.js","assets/vendor-77f251a3.js","assets/vendor-b57f6aba.css","assets/lodash-520df23f.js","assets/elementPlus-4a1bb6eb.css","assets/_plugin-vue_export-helper-1b428a4d.js","assets/sc-8f8a299b.css"])}),z=g(),G=g([]),I=g({danmaku:""}),O=y((()=>{const e=I.value.danmaku;if(!e)return G.value;return G.value.filter((a=>a.message.includes(e)||a.uname.includes(e)))})),Q=()=>{i({title:"提示",message:"已复制时间点到剪切板",type:"success"})},U=()=>{i({title:"Error",message:"复制失败",type:"error"})},W=e=>({msg:e,success:Q,error:U});return k((()=>{(()=>{const e=a("roomid");s({rid:e}).then((e=>{if(0!=e.code)i({title:"Error",message:e.msg||"获取弹幕异常",type:"error"});else{const a=e.data.rows;for(let e of a)e.hour_minute=t(e.create_time),e.message=l(e.message),e.type&&"street_lamp"!=e.type||(e.message=e.message.replace("#路灯","").trim());G.value=a}}))})()})),(e,a)=>{const s=u,t=o,l=m,i=d,f=c,_=p,g=v("clipboard");return h(),x(w,null,[L("div",H,[M(t,{gutter:20},{default:T((()=>[S,M(s,{class:"w-50",style:{width:"12.5rem"},modelValue:I.value.danmaku,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.danmaku=e),placeholder:"请在此输入搜索内容","prefix-icon":j(n),clearable:""},null,8,["modelValue","prefix-icon"])])),_:1})]),M(t,{gutter:20},{default:T((()=>[M(_,{span:24},{default:T((()=>[G.value.length>0?(h(!0),x(w,{key:0},b(O.value,(e=>(h(),x("ul",{key:e.id,style:{"text-align":"left"}},["street_lamp"!=e.type&&e.type?(h(),x("span",A,[C(E(e.uname)+"  "+E(e.hour_minute)+"(",1),N((h(),V(l,{type:"info",link:""},{default:T((()=>[C(E(e.live_duration),1)])),_:2},1024)),[[g,W(e.live_duration)]]),C(") : "),L("span",{class:"danmaku-message",innerHTML:e.message},null,8,D),M(i,{effect:"dark",placement:"top",content:"点击生成SC图片"},{default:T((()=>[M(l,{onClick:a=>(e=>{const a={width:269,battery:Number(10*e.price),userName:e.uname,userRole:e.guard.toString(),scContent:e.message,showTrans:!1,transContent:"",showFansMedal:!1,medalName:"",medalLevel:1,guardMileStone:"0"};z.value.open(a)})(e),icon:j(r),size:"small",type:"primary",circle:""},null,8,["onClick","icon"])])),_:2},1024)])):(h(),x("span",P,[C(E(e.uname)+"  "+E(e.hour_minute)+" (",1),N((h(),V(l,{type:"info",link:""},{default:T((()=>[C(E(e.live_duration),1)])),_:2},1024)),[[g,W(e.live_duration)]]),C(") : "),L("span",{innerHTML:e.message},null,8,R)]))])))),128)):(h(),V(f,{key:1,description:"No data"}))])),_:1})])),_:1}),M(j(F),{ref_key:"hd",ref:z},null,512)],64)}}});export{F as default};
