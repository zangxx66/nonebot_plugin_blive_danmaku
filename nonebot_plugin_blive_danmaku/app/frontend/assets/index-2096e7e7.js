import{u as a,_ as e}from"./index-d3b4db6c.js";import{l as t,y as s,E as l,v as o,A as r,w as n,B as i,i as u,f as d}from"./elementPlus-e0f35a2c.js";import{g as m,c,a as p,b as f,C as _}from"./api-7df74b40.js";import{F as v,t as y,aO as g,p as h,f as x,g as b,U as j,Z as E,u as k,a6 as w,_ as P,o as T,a1 as $,aP as A}from"./vendor-0407690f.js";import"./lodash-520df23f.js";const B={class:"danmaku-room-list",style:{"padding-top":"0%",width:"60%",margin:"0 auto"}},I={class:"danmaku-page-header"},O={class:"text-large font-600 mr-3"},q={style:{"text-align":"left"}},z={style:{color:"#000","font-weight":"bold","font-size":"20px"}},C={style:{"text-align":"left"}},D={style:{"text-align":"left"}},F=v({__name:"index",setup(v){const F=y({}),L=y(!0),R=A({loader:()=>e((()=>import("./danmaku-cf37360f.js")),["assets/danmaku-cf37360f.js","assets/elementPlus-e0f35a2c.js","assets/vendor-0407690f.js","assets/lodash-520df23f.js","assets/elementPlus-c1f800d5.css","assets/api-7df74b40.js","assets/danmaku-599bdc1c.css"])}),S=a(),U=g(),V=()=>{const a=S.getType,e=S.getTypeId;U.replace({path:"/",query:{type:a,type_id:e}})};return h((()=>{const a=m("type"),e=m("type_id");null!=a&&null!=e&&S.setState(e,a),(()=>{const a=m("roomid");if(null==a)return t({title:"Error",message:"房间号不存在，请返回上一页重新进入",type:"error"}),L.value=!1,!1;L.value=!0,c({id:a}).then((async a=>{if(0!=a.code)t({title:"Error",message:"系统异常",type:"error"});else{const e=a.data;if(document.title=`${e.room_info.name}`,e.room_info.cover.includes("i0.hdslb.com")){const a=await p({url:e.room_info.cover});e.room_info.cover=`${f}${a.data.data}`}F.value=e.room_info}L.value=!1})).catch((a=>{L.value=!1,t({title:"Error",message:"请求异常",type:"error"})}))})()})),(a,e)=>{const t=s,m=n,c=i,p=u,f=d,v=l,y=o;return T(),x("div",B,[b("div",I,[j(t,{icon:k(r),onBack:V},{content:E((()=>[b("span",O,$(F.value.name),1)])),_:1},8,["icon"])]),w((T(),P(v,null,{default:E((()=>[j(c,null,{default:E((()=>[j(m,{src:F.value.cover,fit:"fill"},null,8,["src"])])),_:1}),j(f,null,{default:E((()=>[b("ul",q,[j(p,{type:"primary",target:"_blank",href:"https://space.bilibili.com/"+F.value.uid},{default:E((()=>[b("div",z,$(F.value.title),1)])),_:1},8,["href"])]),b("ul",C,[b("span",null," 开始时间："+$(k(_)(F.value.start_time)),1)]),b("ul",D,[b("span",null," 结束时间："+$(k(_)(F.value.end_time)),1)])])),_:1})])),_:1})),[[y,L.value]]),j(k(R))])}}});export{F as default};
