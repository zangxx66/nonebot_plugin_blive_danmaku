import{u as e,_ as a}from"./index-beb6cf70.js";import{l as t,E as l,v as s,x as o,A as r,i,f as n}from"./elementPlus-1c1092e2.js";import{g as u,r as m,b as d,C as f}from"./api-a97bd869.js";import{F as c,t as p,aO as _,p as v,a6 as y,f as g,U as h,Z as x,u as b,o as j,g as E,a1 as k}from"./vendor-3efffbad.js";import"./lodash-520df23f.js";const w={class:"danmaku-room-list",style:{"padding-top":"0%",width:"60%",margin:"0 auto"}},$={style:{"text-align":"left"}},A={style:{color:"#000","font-weight":"bold","font-size":"20px"}},C={style:{"text-align":"left"}},G={style:{"text-align":"left"}},I=c({__name:"index",setup(c){const I=p({}),O=p(!0),P=_({loader:()=>a((()=>import("./danmaku-363aeaf9.js")),["assets/danmaku-363aeaf9.js","assets/elementPlus-1c1092e2.js","assets/vendor-3efffbad.js","assets/lodash-520df23f.js","assets/elementPlus-dcc8ba5d.css","assets/api-a97bd869.js","assets/danmaku-88ed8e86.css"])});return v((()=>{const a=u("type"),l=u("type_id");if(null!=a&&null!=l){e().setState(l,a)}(()=>{const e=u("roomid");if(null==e)return t({title:"Error",message:"房间号不存在，请返回上一页重新进入",type:"error"}),!1;O.value=!0,m.GetRoomInfo({id:e}).then((async e=>{if(0!=e.code)t({title:"Error",message:"系统异常",type:"error"});else{const a=e.data;if(document.title=`${a.room_info.name}-blive-danmaku`,a.room_info.cover.includes("i0.hdslb.com")){const e=await m.GetCoverUrl({url:a.room_info.cover});a.room_info.cover=`${d}${e.data.data}`}I.value=a.room_info}O.value=!1})).catch((e=>{O.value=!1,t({title:"Error",message:"请求异常",type:"error"})}))})()})),(e,a)=>{const t=o,u=r,m=i,d=n,c=l,p=s;return y((j(),g("div",w,[h(c,null,{default:x((()=>[h(u,null,{default:x((()=>[h(t,{src:I.value.cover,fit:"fill"},null,8,["src"])])),_:1}),h(d,null,{default:x((()=>[E("ul",$,[h(m,{type:"primary",target:"_blank",href:"https://space.bilibili.com/"+I.value.uid},{default:x((()=>[E("div",A,k(I.value.title),1)])),_:1},8,["href"])]),E("ul",C,[E("span",null," 开始时间："+k(b(f)(I.value.start_time)),1)]),E("ul",G,[E("span",null," 结束时间："+k(b(f)(I.value.end_time)),1)])])),_:1})])),_:1}),h(b(P))])),[[p,O.value]])}}});export{I as default};
