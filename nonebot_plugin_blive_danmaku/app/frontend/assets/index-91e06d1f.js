import{u as e,g as a,a as t,b as s,c as l,_ as r}from"./index-9c474c60.js";import{a as o,q as i,b as n,v as u,r as d,t as c,c as p,u as m,i as f,m as _,l as v}from"./elementPlus-ce38aef7.js";import{F as g,t as y,aQ as h,p as b,f as x,g as j,U as k,Z as E,u as U,a6 as I,_ as T,o as q,a1 as w,aR as P}from"./vendor-0eb16a42.js";import{_ as R}from"./_plugin-vue_export-helper-1b428a4d.js";import"./lodash-520df23f.js";const z={class:"danmaku-room-list",style:{"padding-top":"0%",width:"60%",margin:"0 auto"}},A={class:"danmaku-page-header"},B={class:"text-large font-600 mr-3"},D={class:"image-slot"},F={class:"image-slot"},L={style:{"text-align":"left"}},O={style:{color:"#000","font-weight":"bold","font-size":"20px"}},Q={style:{"text-align":"left"}},S={style:{"text-align":"left"}},V=R(g({__name:"index",setup(g){const R=y({}),V=y(!0),W=P({loader:()=>r((()=>import("./danmaku-2b0052fb.js")),["assets/danmaku-2b0052fb.js","assets/elementPlus-ce38aef7.js","assets/vendor-0eb16a42.js","assets/lodash-520df23f.js","assets/elementPlus-6b6c969f.css","assets/index-9c474c60.js","assets/index-36a3176b.css","assets/_plugin-vue_export-helper-1b428a4d.js","assets/danmaku-30dc94b5.css"])}),Z=e(),C=h(),G=()=>{const e=Z.getType,a=Z.getTypeId,t=Z.getUid;C.replace({name:"history",query:{type:e,type_id:a,uid:t}})};return b((()=>{const e=a("type"),l=a("type_id");null!=e&&null!=l&&Z.setState(l,e),(()=>{const e=a("roomid");if(null==e)return o({title:"Error",message:"房间号不存在，请返回上一页重新进入",type:"error"}),V.value=!1,!1;V.value=!0,t({id:e}).then((async e=>{if(0!=e.code)o({title:"Error",message:"系统异常",type:"error"});else{const t=e.data.room_info;if(document.title=t.title,t.cover.startsWith("/")&&(t.cover=s+t.cover),R.value=t,0===Z.getUid){const e=a("uid");Z.setUid(e)}}V.value=!1})).catch((e=>{V.value=!1,o({title:"Error",message:"请求异常",type:"error"})}))})()})),(e,a)=>{const t=i,s=p,r=m,o=f,g=_,y=v,h=n,b=u;return q(),x("div",z,[j("div",A,[k(t,{icon:U(d),onBack:G},{content:E((()=>[j("span",B,w(R.value.name),1)])),_:1},8,["icon"])]),I((q(),T(h,null,{default:E((()=>[k(o,{class:"danmaku-room-card"},{default:E((()=>[k(r,{src:R.value.cover,referrerpolicy:"no-referrer",fit:"fill"},{placeholder:E((()=>[I(j("div",D,null,512),[[b,!0]])])),error:E((()=>[j("div",F,[k(s,null,{default:E((()=>[k(U(c))])),_:1})])])),_:1},8,["src"])])),_:1}),k(y,null,{default:E((()=>[j("ul",L,[k(g,{type:"primary",target:"_blank",href:"https://space.bilibili.com/"+R.value.uid},{default:E((()=>[j("div",O,w(R.value.title),1)])),_:1},8,["href"])]),j("ul",Q,[j("span",null," 开始时间："+w(U(l)(R.value.start_time)),1)]),j("ul",S,[j("span",null," 结束时间："+w(U(l)(R.value.end_time)),1)])])),_:1})])),_:1})),[[b,V.value]]),k(U(W))])}}}),[["__scopeId","data-v-91e6ebb0"]]);export{V as default};
